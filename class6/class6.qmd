---
title: "מפות וניהולן"
author: 'ד"ר עדו קליין'
date: 02/19/2024
format:
  revealjs:
    rtl: true
    css: "style.css"
    slide-number: true
    show-slide-number: all
editor: visual
---

```{ojs}
//| echo: false
now = new Date
```

## תזכורת לשיעור הקודם

-   למדנו איך טוענים GPKG

-   למדנו איך מייצגים שכבות

## בשיעור היום

-   נשלים שיחה על סימבולוגיה - נוסיף תוויות

-   נלמד איך לנהל סגנונות

-   נלמד איך לנהל סימניות מרחביות

-   נלמד איך לנהל תמות

-   נלמד איך לנהל מפות

## היגיון של השיעור הנוכחי

על מנת לייצר מפה, אנו זקוקים ל3 אלמנטים מרכזיים:

שכבות להצגה, בסגנון מסוים

תיחום להצגה

אלמנטים קרטוגרפיים

## תוויות {.smaller}

ניתן להוסיף תוויות בproperties של בשכבה, תחת labels. התוויות נקבעות לפי שם המשתנה בשכבה, בדומה לסימבולוגיה של שכבה.

![](images/paste-12.png)

![](images/paste-13.png)

כלל יתר ההגדרות או מתקדמות ולא יכוסו בקורס זה, או דומות לסגנונות שניתן לתת במעבד תמלילים, כמו פונט, גודל פונט, מודגש/איטלקי/קו תחתון, צבע. לימוד יתר ההגדרות בזמנכם הפנוי.

## ניהול סגנונות

עבור כל שכבה, ניתן לשמור על מספר שונה של סגנונות. שמירה על מספר שונה של סגנונות מאפשר יצירת סדר ותיעוד של תהליך העבודה.

## יצירת סגנון

שתי דרכים ליצירת סגנון:

בפאנל השכבות:

![](images/paste-1.png){width="377"}

------------------------------------------------------------------------

בתוך אפשרויות השכבה

![](images/paste-2.png){width="687"}

::: {.callout-note title="שימו לב"}
כאשר אתם נמצאים בתוך סגנון - הוא יישמר אוטומטית כל עוד תבצעו פעולות שינוי סגנון.
:::

## החלפת סגנון

וכדומה בתוך אפשרויות השכבה

![](images/paste-3.png){width="316"}

## העתקת סגנון

![](images/paste-4.png)

::: {.callout-note title="שימו לב"}
ניתן להעתיק סגנון משכבה לשכבה במידה והעמודות זהות. למשל בין שתי שכבות לא קשורות בהכרח.
:::

## ייבוא סגנונות

ניתן לייבא סגנונות מקבצי qml, המכיל בתוכו סגנון קבוע מראש -שבא לחסוך לנו הרבה עבודה.

איך נראה קובץ qml?

![](images/paste-6.png){width="214"}

------------------------------------------------------------------------

בקובץ qml יש הגדרות שונות לסגנון המאפשרות ייצוג שונה של ישויות בשכבה.

## סגנון מבאת לדוגמא

הדגמה מאתר [קווים כחולים](https://ags.iplan.gov.il/xplan/)

[הורידו את הסגנון מכאן](https://www.gov.il/he/departments/general/symbology_qgis)

![](images/paste-5.png)
------------------------------------------------------------------------

![](images/paste-14.png)

## ניהול סימניות מרחביות

סימניה מרחבית מאפשרת לחזור שוב ושוב לאותו תיחום של המפה

## יצירת סימניה מרחבית

![](images/paste-7.png)

------------------------------------------------------------------------

![](images/paste-9.png)

## תמות

theme הוא מצב של התוכנה, בו חלק מהשכבות מודלקות על סגנון מסוים. הוא מאפשר יצירה מחודשת של מפות בצורה מדויקת, ביחד עם סימניות מרחביות.

## יצירת תמה

![](images/paste-10.png)

## ניהול תמות

החלפת תמה מתבצעת על ידי לחיצה על התמה בשם אחר מזה שנתתם.

## יצירת מפות

![](images/paste-11.png){width="220"}

יש לתת שם ללייאוט בדיאלוג שייפתח. בפאנל הצידי ניתן לשלוט באובייקטים השונים במפה.

![](images/paste-16.png){width="242"}

## אלמנטים קרטוגרפיים

בפאנל הצידי השני (או בתפריט add item) ניתן להוסיף אלמנטים למפה, כמו מפה, מקרא, חץ צפון, קנה מידה, טקסט ועוד המון. נתעכב על החשובים ביניהם:

![](images/paste-19.png){width="280"}

## מפה

הוספת מפה תתן לי את המבט שאני רואה על הקנבס של התוכנה כעת. תזוזה תשנה את תצורת המפה.

על מנת להגיע למפה בת שחזור, אני צריך לקבוע שתי הגדרות - תמה(באדום), וסימניה מרחבית (בירוק). קיבוע זה מאפשר לי שחזור מדוייק של יצירת המפה.

![](images/paste-18.png)

## מקרא

המקרא כברירת מחדל יתן לי את כלל השכבות המוצגות. אני יכול לשלוט בו בתפריט item properties.

![](images/paste-20.png)

## עזרי התמצאות

חץ צפון

קנה מידה

## מידע נוסף

כותרת

מידע בנוגע למפה

מקורות מידע עליהם המפה מתבססת

## ניהול מפות

במידה וייצרתי יותר ממפה אחת, יש לי אפשרות לדפדף בין מפות. ניתן להיכנס למנהל המפות דרך החלון הראשי או דרך חלון הלייאוט (אותו סמליל). ניתן לבחור מפה לפתיחה עם לחיצה כפולה, לשכפל מפה, לשנות שם או למחוק.

![](images/paste-21.png)

![](images/paste-22.png){width="329"}

## תרגיל 5 {.smaller}

1.  הורידו מהאתר את הGPKG

2.  פתחו את פרויקט proj

3.  השקיפו את המילוי של שכבת city_boundries והוסיפו תווית לשם העיר

4.  יצרו שני סגנונות לשכבה projects_in_tlv - לפי סוג תשתית ולפי חברה הבונה את התשתית. שמרו את הסגנונות בתוך השכבה

5.  ייצרו את תמה type שיש בה את שכבת הפרויקטים בתל אביב עם סגנון סוג התשתית ללא שכבת הערים, ותמה city_company שיש בה את שכבת הערים ושכבת הפרוקיטים עם סגנון החברה הבונה

6.  יצרו שתי סימניות מרחביות בקנה מידה של 1:10000 ו1:5000. קראו להן בשם הקנה מידה. שמרו אותן בפרויקט.

7.  יצרו שתי מפות - אחת עם תמה הראשונה עם ה1:10000 ואחד עם התמה השנייה עם ה1:5000